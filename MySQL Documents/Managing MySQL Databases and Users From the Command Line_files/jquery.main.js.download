jQuery(function(){initCustomForms();initCarousel();initOpenClose();initPopups();initSameHeight();jQuery('input, textarea').placeholder();});function initCustomForms(){jcf.replaceAll($('.language-select'));jcf.replaceAll($('.currency-select'));}
function initCarousel(){jQuery('.hero-carousel').scrollGallery({mask:'.mask',slider:'.slideset',slides:'.slide',btnPrev:'a.btn-prev',btnNext:'a.btn-next',pagerLinks:'.paging li',stretchSlideToMask:true,maskAutoSize:true,autoRotation:true,switchTime:10000,animSpeed:300,step:1});jQuery('.domain-carousel').scrollGallery({mask:'.mask',slider:'.slideset',slides:'.slide',btnPrev:'a.btn-prev',btnNext:'a.btn-next',pagerLinks:'.pagination li',autoRotation:false,switchTime:3000,animSpeed:500,step:1});jQuery('.features-slider').scrollGallery({mask:'.mask',slider:'.holder',slides:'.feature',btnPrev:'a.prev',btnNext:'a.next',pagerLinks:'.pagination li',stretchSlideToMask:true,maskAutoSize:true,autoRotation:false,switchTime:3000,animSpeed:500,step:1});jQuery('.reviews-slider').scrollGallery({mask:'.mask',slider:'.holder',slides:'.review',btnPrev:'a.prev',btnNext:'a.next',pagerLinks:'.pagination li',stretchSlideToMask:true,maskAutoSize:true,autoRotation:false,switchTime:3000,animSpeed:500,step:1});jQuery('.quotes-slider').scrollGallery({mask:'.mask',slider:'.slideset',slides:'.slide',btnPrev:'a.prev',btnNext:'a.next',pagerLinks:'.pagination li',stretchSlideToMask:true,maskAutoSize:true,autoRotation:false,switchTime:3000,animSpeed:500,step:1});jQuery('.awards-slider').scrollGallery({mask:'.mask',slider:'ul',slides:'li',btnPrev:'a.prev',btnNext:'a.next',pagerLinks:'.pagination li',autoRotation:false,switchTime:3000,animSpeed:500,step:1});jQuery('.packages-slider').scrollGallery({mask:'.mask',slider:'.slideset',slides:'div.slide',btnPrev:'a.prev',btnNext:'a.next',pagerLinks:'.pagination li',stretchSlideToMask:true,maskAutoSize:true,autoRotation:false,switchTime:3000,animSpeed:500,step:1});}
function initOpenClose(){jQuery('.links').openClose({hideOnClickOutside:true,activeClass:'active',opener:'.heading a',slider:'>ul',animSpeed:400,effect:'slide'});}
function initPopups(){jQuery('.rightnav .nav li').contentPopup({mode:'click',btnOpen:'a.search'});}
function initSameHeight(){jQuery('.packages-holder').sameHeight({elements:'.heading-holder',flexible:true,multiLine:true,biggestHeight:true});jQuery('.packages-holder').sameHeight({elements:'.text',flexible:true,multiLine:true,biggestHeight:true});jQuery('.packages-holder').sameHeight({elements:'.tagline',flexible:true,multiLine:true,biggestHeight:true});jQuery('.packages-holder').sameHeight({elements:'.holder',flexible:true,multiLine:true,biggestHeight:true});jQuery('.packages-holder').sameHeight({elements:'.package-coupon-container',flexible:true,multiLine:true,biggestHeight:true});jQuery('.packages-holder').sameHeight({elements:'.btns',flexible:true,multiLine:true,biggestHeight:true});}
ResponsiveHelper=(function($){var handlers=[];var win=$(window),prevWinWidth;var scrollBarWidth=0;function resizeHandler(){var winWidth=win.width()+scrollBarWidth;if(winWidth!==prevWinWidth){prevWinWidth=winWidth;$.each(handlers,function(index,rangeObject){$.each(rangeObject.data,function(property,item){if((winWidth<item.range[0]||winWidth>item.range[1])&&item.currentActive){item.currentActive=false;if(typeof item.disableCallback==='function'){item.disableCallback();}}});$.each(rangeObject.data,function(property,item){if(winWidth>=item.range[0]&&winWidth<=item.range[1]&&!item.currentActive){item.currentActive=true;if(typeof item.enableCallback==='function'){item.enableCallback();}}});});}}
win.bind('load',function(){if(window.addEventListener){scrollBarWidth=window.innerWidth-$('body').width();resizeHandler();}
win.bind('resize orientationchange',resizeHandler);});function parseRange(rangeStr){var rangeData=rangeStr.split('..');var x1=parseInt(rangeData[0],10)||-Infinity;var x2=parseInt(rangeData[1],10)||Infinity;return[x1,x2].sort(function(a,b){return a-b;});}
return{addRange:function(ranges){var result={data:{}};$.each(ranges,function(property,data){result.data[property]={range:parseRange(property),enableCallback:data.on,disableCallback:data.off};});handlers.push(result);prevWinWidth=null;resizeHandler();}};}(jQuery));;(function($){$.fn.contentTabs=function(o){var options=$.extend({activeClass:'active',addToParent:false,autoHeight:false,autoRotate:false,checkHash:false,animSpeed:400,switchTime:3000,effect:'slide',tabLinks:'a',attrib:'href',event:'click'},o);return this.each(function(){var tabset=$(this),tabs=$();var tabLinks=tabset.find(options.tabLinks);var tabLinksParents=tabLinks.parent();var prevActiveLink=tabLinks.eq(0),currentTab,animating;var tabHolder;if(options.checkHash&&tabLinks.filter('['+options.attrib+'="'+location.hash+'"]').length){(options.addToParent?tabLinksParents:tabLinks).removeClass(options.activeClass);setTimeout(function(){window.scrollTo(0,0);},1);}
tabLinks.each(function(){var link=$(this);var href=link.attr(options.attrib);var parent=link.parent();href=href.substr(href.lastIndexOf('#'));var tab=$(href);tabs=tabs.add(tab);link.data('cparent',parent);link.data('ctab',tab);if(!tabHolder&&tab.length){tabHolder=tab.parent();}
var classOwner=options.addToParent?parent:link;if(classOwner.hasClass(options.activeClass)||(options.checkHash&&location.hash===href)){classOwner.addClass(options.activeClass);prevActiveLink=link;currentTab=tab;tab.removeClass(tabHiddenClass).width('');contentTabsEffect[options.effect].show({tab:tab,fast:true});}else{var tabWidth=tab.width();if(tabWidth){tab.width(tabWidth);}
tab.addClass(tabHiddenClass);}
link.bind(options.event,function(e){if(link!=prevActiveLink&&!animating){switchTab(prevActiveLink,link);prevActiveLink=link;}else{e.preventDefault();contentTabsEffect[options.effect].hide({speed:options.animSpeed,tab:jQuery(link.attr('href'))});prevActiveLink.removeClass(options.activeClass);prevActiveLink=tabLinks.eq(0);jQuery('.tabset').find('li.active').removeClass('active');}});if(options.attrib==='href'){link.bind('click',function(e){e.preventDefault();});}});function switchTab(oldLink,newLink){animating=true;var oldTab=oldLink.data('ctab');var newTab=newLink.data('ctab');prevActiveLink=newLink;currentTab=newTab;(options.addToParent?tabLinksParents:tabLinks).removeClass(options.activeClass);(options.addToParent?newLink.data('cparent'):newLink).addClass(options.activeClass);resizeHolder(oldTab,true);contentTabsEffect[options.effect].hide({speed:options.animSpeed,tab:oldTab,complete:function(){resizeHolder(newTab.removeClass(tabHiddenClass).width(''));contentTabsEffect[options.effect].show({speed:options.animSpeed,tab:newTab,complete:function(){if(!oldTab.is(newTab)){oldTab.width(oldTab.width()).addClass(tabHiddenClass);}
animating=false;resizeHolder(newTab,false);autoRotate();}});}});}
function resizeHolder(block,state){var curBlock=block&&block.length?block:currentTab;if(options.autoHeight&&curBlock){tabHolder.stop();if(state===false){tabHolder.css({height:''});}else{var origStyles=curBlock.attr('style');curBlock.show().css({width:curBlock.width()});var tabHeight=curBlock.outerHeight(true);if(!origStyles)curBlock.removeAttr('style');else curBlock.attr('style',origStyles);if(state===true){tabHolder.css({height:tabHeight});}else{tabHolder.animate({height:tabHeight},{duration:options.animSpeed});}}}}
if(options.autoHeight){$(window).bind('resize orientationchange',function(){tabs.not(currentTab).removeClass(tabHiddenClass).show().each(function(){var tab=jQuery(this),tabWidth=tab.css({width:''}).width();if(tabWidth){tab.width(tabWidth);}}).hide().addClass(tabHiddenClass);resizeHolder(currentTab,false);});}
var rotationTimer;function nextTab(){var activeItem=(options.addToParent?tabLinksParents:tabLinks).filter('.'+options.activeClass);var activeIndex=(options.addToParent?tabLinksParents:tabLinks).index(activeItem);var newLink=tabLinks.eq(activeIndex<tabLinks.length-1?activeIndex+1:0);prevActiveLink=tabLinks.eq(activeIndex);switchTab(prevActiveLink,newLink);}
function autoRotate(){if(options.autoRotate&&tabLinks.length>1){clearTimeout(rotationTimer);rotationTimer=setTimeout(function(){if(!animating){nextTab();}else{autoRotate();}},options.switchTime);}}
autoRotate();});};var tabHiddenClass='js-tab-hidden';$(function(){var tabStyleSheet=$('<style type="text/css">')[0];var tabStyleRule='.'+tabHiddenClass;tabStyleRule+='{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}';if(tabStyleSheet.styleSheet){tabStyleSheet.styleSheet.cssText=tabStyleRule;}else{tabStyleSheet.appendChild(document.createTextNode(tabStyleRule));}
$('head').append(tabStyleSheet);});var contentTabsEffect={none:{show:function(o){o.tab.css({display:'block'});if(o.complete)o.complete();},hide:function(o){o.tab.css({display:'none'});if(o.complete)o.complete();}},fade:{show:function(o){if(o.fast)o.speed=1;o.tab.fadeIn(o.speed);if(o.complete)setTimeout(o.complete,o.speed);},hide:function(o){if(o.fast)o.speed=1;o.tab.fadeOut(o.speed);if(o.complete)setTimeout(o.complete,o.speed);}},slide:{show:function(o){var tabHeight=o.tab.show().css({width:o.tab.width()}).outerHeight(true);var tmpWrap=$('<div class="effect-div">').insertBefore(o.tab).append(o.tab);tmpWrap.css({width:'100%',overflow:'hidden',position:'relative'});o.tab.css({marginTop:-tabHeight,display:'block'});if(o.fast)o.speed=1;o.tab.animate({marginTop:0},{duration:o.speed,complete:function(){o.tab.css({marginTop:'',width:''}).insertBefore(tmpWrap);tmpWrap.remove();if(o.complete)o.complete();}});},hide:function(o){var tabHeight=o.tab.show().css({width:o.tab.width()}).outerHeight(true);var tmpWrap=$('<div class="effect-div">').insertBefore(o.tab).append(o.tab);tmpWrap.css({width:'100%',overflow:'hidden',position:'relative'});if(o.fast)o.speed=1;o.tab.animate({marginTop:-tabHeight},{duration:o.speed,complete:function(){o.tab.css({display:'none',marginTop:'',width:''}).insertBefore(tmpWrap);tmpWrap.remove();if(o.complete)o.complete();}});}}};}(jQuery));;(function($){function ScrollGallery(options){this.options=$.extend({mask:'div.mask',slider:'>*',slides:'>*',activeClass:'active',disabledClass:'disabled',btnPrev:'a.btn-prev',btnNext:'a.btn-next',generatePagination:false,pagerList:'<ul>',pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:'a',pagerLinks:'.pagination li',currentNumber:'span.current-num',totalNumber:'span.total-num',btnPlay:'.btn-play',btnPause:'.btn-pause',btnPlayPause:'.btn-play-pause',galleryReadyClass:'gallery-js-ready',autorotationActiveClass:'autorotation-active',autorotationDisabledClass:'autorotation-disabled',stretchSlideToMask:false,circularRotation:true,disableWhileAnimating:false,autoRotation:false,pauseOnHover:isTouchDevice?false:true,maskAutoSize:false,switchTime:4000,animSpeed:600,event:'click',swipeThreshold:15,handleTouch:true,vertical:false,useTranslate3D:false,step:false},options);this.init();}
ScrollGallery.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.refreshPosition();this.refreshState(true);this.resumeRotation();this.makeCallback('onInit',this);}},findElements:function(){this.fullSizeFunction=this.options.vertical?'outerHeight':'outerWidth';this.innerSizeFunction=this.options.vertical?'height':'width';this.slideSizeFunction='outerHeight';this.maskSizeProperty='height';this.animProperty=this.options.vertical?'marginTop':'marginLeft';this.gallery=$(this.options.holder).addClass(this.options.galleryReadyClass);this.mask=this.gallery.find(this.options.mask);this.slider=this.mask.find(this.options.slider);this.slides=this.slider.find(this.options.slides);this.btnPrev=this.gallery.find(this.options.btnPrev);this.btnNext=this.gallery.find(this.options.btnNext);this.currentStep=0;this.stepsCount=0;if(this.options.step===false){var activeSlide=this.slides.filter('.'+this.options.activeClass);if(activeSlide.length){this.currentStep=this.slides.index(activeSlide);}}
this.calculateOffsets();if(typeof this.options.generatePagination==='string'){this.pagerLinks=$();this.buildPagination();}else{this.pagerLinks=this.gallery.find(this.options.pagerLinks);this.attachPaginationEvents();}
this.btnPlay=this.gallery.find(this.options.btnPlay);this.btnPause=this.gallery.find(this.options.btnPause);this.btnPlayPause=this.gallery.find(this.options.btnPlayPause);this.curNum=this.gallery.find(this.options.currentNumber);this.allNum=this.gallery.find(this.options.totalNumber);},attachEvents:function(){var self=this;this.bindHandlers(['onWindowResize']);$(window).bind('load resize orientationchange',this.onWindowResize);if(this.btnPrev.length){this.prevSlideHandler=function(e){e.preventDefault();self.prevSlide();};this.btnPrev.bind(this.options.event,this.prevSlideHandler);}
if(this.btnNext.length){this.nextSlideHandler=function(e){e.preventDefault();self.nextSlide();};this.btnNext.bind(this.options.event,this.nextSlideHandler);}
if(this.options.pauseOnHover&&!isTouchDevice){this.hoverHandler=function(){if(self.options.autoRotation){self.galleryHover=true;self.pauseRotation();}};this.leaveHandler=function(){if(self.options.autoRotation){self.galleryHover=false;self.resumeRotation();}};this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});}
if(this.btnPlay.length){this.btnPlayHandler=function(e){e.preventDefault();self.startRotation();};this.btnPlay.bind(this.options.event,this.btnPlayHandler);}
if(this.btnPause.length){this.btnPauseHandler=function(e){e.preventDefault();self.stopRotation();};this.btnPause.bind(this.options.event,this.btnPauseHandler);}
if(this.btnPlayPause.length){this.btnPlayPauseHandler=function(e){e.preventDefault();if(!self.gallery.hasClass(self.options.autorotationActiveClass)){self.startRotation();}else{self.stopRotation();}};this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler);}
if(isTouchDevice&&this.options.useTranslate3D){this.slider.css({'-webkit-transform':'translate3d(0px, 0px, 0px)'});}
if(isTouchDevice&&this.options.handleTouch&&window.Hammer&&this.mask.length){this.swipeHandler=new Hammer.Manager(this.mask[0]);this.swipeHandler.add(new Hammer.Pan({direction:self.options.vertical?Hammer.DIRECTION_VERTICAL:Hammer.DIRECTION_HORIZONTAL,threshold:self.options.swipeThreshold}));this.swipeHandler.on('panstart',function(){if(self.galleryAnimating){self.swipeHandler.stop();}else{self.pauseRotation();self.originalOffset=parseFloat(self.slider.css(self.animProperty));}}).on('panmove',function(e){var tmpOffset=self.originalOffset+e[self.options.vertical?'deltaY':'deltaX'];tmpOffset=Math.max(Math.min(0,tmpOffset),self.maxOffset);self.slider.css(self.animProperty,tmpOffset);}).on('panend',function(e){self.resumeRotation();if(e.distance>self.options.swipeThreshold){if(e.offsetDirection===Hammer.DIRECTION_RIGHT||e.offsetDirection===Hammer.DIRECTION_DOWN){self.nextSlide();}else{self.prevSlide();}}else{self.switchSlide();}});}},onWindowResize:function(){if(!this.galleryAnimating){this.calculateOffsets();this.refreshPosition();this.buildPagination();this.refreshState();this.resizeQueue=false;}else{this.resizeQueue=true;}},refreshPosition:function(){this.currentStep=Math.min(this.currentStep,this.stepsCount-1);this.tmpProps={};this.tmpProps[this.animProperty]=this.getStepOffset();this.slider.stop().css(this.tmpProps);},calculateOffsets:function(){var self=this,tmpOffset,tmpStep;if(this.options.stretchSlideToMask){var tmpObj={};tmpObj[this.innerSizeFunction]=this.mask[this.innerSizeFunction]();this.slides.css(tmpObj);}
this.maskSize=this.mask[this.innerSizeFunction]();this.sumSize=this.getSumSize();this.maxOffset=this.maskSize-this.sumSize;if(this.options.vertical&&this.options.maskAutoSize){this.options.step=1;this.stepsCount=this.slides.length;this.stepOffsets=[0];tmpOffset=0;for(var i=0;i<this.slides.length;i++){tmpOffset-=$(this.slides[i])[this.fullSizeFunction](true);this.stepOffsets.push(tmpOffset);}
this.maxOffset=tmpOffset;return;}
if(typeof this.options.step==='number'&&this.options.step>0){this.slideDimensions=[];this.slides.each($.proxy(function(ind,obj){self.slideDimensions.push($(obj)[self.fullSizeFunction](true));},this));this.stepOffsets=[0];this.stepsCount=1;tmpOffset=tmpStep=0;while(tmpOffset>this.maxOffset){tmpOffset-=this.getSlideSize(tmpStep,tmpStep+this.options.step);tmpStep+=this.options.step;this.stepOffsets.push(Math.max(tmpOffset,this.maxOffset));this.stepsCount++;}}
else{this.stepSize=this.maskSize;this.stepsCount=1;tmpOffset=0;while(tmpOffset>this.maxOffset){tmpOffset-=this.stepSize;this.stepsCount++;}}},getSumSize:function(){var sum=0;this.slides.each($.proxy(function(ind,obj){sum+=$(obj)[this.fullSizeFunction](true);},this));this.slider.css(this.innerSizeFunction,sum);return sum;},getStepOffset:function(step){step=step||this.currentStep;if(typeof this.options.step==='number'){return this.stepOffsets[this.currentStep];}else{return Math.min(0,Math.max(-this.currentStep*this.stepSize,this.maxOffset));}},getSlideSize:function(i1,i2){var sum=0;for(var i=i1;i<Math.min(i2,this.slideDimensions.length);i++){sum+=this.slideDimensions[i];}
return sum;},buildPagination:function(){if(typeof this.options.generatePagination==='string'){if(!this.pagerHolder){this.pagerHolder=this.gallery.find(this.options.generatePagination);}
if(this.pagerHolder.length&&this.oldStepsCount!=this.stepsCount){this.oldStepsCount=this.stepsCount;this.pagerHolder.empty();this.pagerList=$(this.options.pagerList).appendTo(this.pagerHolder);for(var i=0;i<this.stepsCount;i++){$(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(i+1);}
this.pagerLinks=this.pagerList.children();this.attachPaginationEvents();}}},attachPaginationEvents:function(){var self=this;this.pagerLinksHandler=function(e){e.preventDefault();self.numSlide(self.pagerLinks.index(e.currentTarget));};this.pagerLinks.bind(this.options.event,this.pagerLinksHandler);},prevSlide:function(){if(!(this.options.disableWhileAnimating&&this.galleryAnimating)){if(this.currentStep>0){this.currentStep--;this.switchSlide();}else if(this.options.circularRotation){this.currentStep=this.stepsCount-1;this.switchSlide();}}},nextSlide:function(fromAutoRotation){if(!(this.options.disableWhileAnimating&&this.galleryAnimating)){if(this.currentStep<this.stepsCount-1){this.currentStep++;this.switchSlide();}else if(this.options.circularRotation||fromAutoRotation===true){this.currentStep=0;this.switchSlide();}}},numSlide:function(c){if(this.currentStep!=c){this.currentStep=c;this.switchSlide();}},switchSlide:function(){var self=this;this.galleryAnimating=true;this.tmpProps={};this.tmpProps[this.animProperty]=this.getStepOffset();this.slider.stop().animate(this.tmpProps,{duration:this.options.animSpeed,complete:function(){self.galleryAnimating=false;if(self.resizeQueue){self.onWindowResize();}
self.makeCallback('onChange',self);self.autoRotate();}});this.refreshState();this.makeCallback('onBeforeChange',this);},refreshState:function(initial){if(this.options.step===1||this.stepsCount===this.slides.length){this.slides.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass);}
this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass);this.curNum.html(this.currentStep+1);this.allNum.html(this.stepsCount);if(this.options.maskAutoSize&&typeof this.options.step==='number'){this.tmpProps={};this.tmpProps[this.maskSizeProperty]=this.slides.eq(Math.min(this.currentStep,this.slides.length-1))[this.slideSizeFunction](true);this.mask.stop()[initial?'css':'animate'](this.tmpProps);}
if(!this.options.circularRotation){this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass);if(this.currentStep===0)this.btnPrev.addClass(this.options.disabledClass);if(this.currentStep===this.stepsCount-1)this.btnNext.addClass(this.options.disabledClass);}
this.gallery.toggleClass('not-enough-slides',this.sumSize<=this.maskSize);},startRotation:function(){this.options.autoRotation=true;this.galleryHover=false;this.autoRotationStopped=false;this.resumeRotation();},stopRotation:function(){this.galleryHover=true;this.autoRotationStopped=true;this.pauseRotation();},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass);this.gallery.removeClass(this.options.autorotationActiveClass);clearTimeout(this.timer);},resumeRotation:function(){if(!this.autoRotationStopped){this.gallery.addClass(this.options.autorotationActiveClass);this.gallery.removeClass(this.options.autorotationDisabledClass);this.autoRotate();}},autoRotate:function(){var self=this;clearTimeout(this.timer);if(this.options.autoRotation&&!this.galleryHover&&!this.autoRotationStopped){this.timer=setTimeout(function(){self.nextSlide(true);},this.options.switchTime);}else{this.pauseRotation();}},bindHandlers:function(handlersList){var self=this;$.each(handlersList,function(index,handler){var origHandler=self[handler];self[handler]=function(){return origHandler.apply(self,arguments);};});},makeCallback:function(name){if(typeof this.options[name]==='function'){var args=Array.prototype.slice.call(arguments);args.shift();this.options[name].apply(this,args);}},destroy:function(){$(window).unbind('load resize orientationchange',this.onWindowResize);this.btnPrev.unbind(this.options.event,this.prevSlideHandler);this.btnNext.unbind(this.options.event,this.nextSlideHandler);this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler);this.gallery.unbind('mouseenter',this.hoverHandler);this.gallery.unbind('mouseleave',this.leaveHandler);this.stopRotation();this.btnPlay.unbind(this.options.event,this.btnPlayHandler);this.btnPause.unbind(this.options.event,this.btnPauseHandler);this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler);if(this.swipeHandler){this.swipeHandler.destroy();}
var unneededClasses=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(unneededClasses.join(' '));this.slider.add(this.slides).removeAttr('style');if(typeof this.options.generatePagination==='string'){this.pagerHolder.empty();}}};var isTouchDevice=/Windows Phone/.test(navigator.userAgent)||('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch;$.fn.scrollGallery=function(opt){return this.each(function(){$(this).data('ScrollGallery',new ScrollGallery($.extend(opt,{holder:this})));});};}(jQuery));;(function($){function OpenClose(options){this.options=$.extend({addClassBeforeAnimation:true,hideOnClickOutside:false,activeClass:'active',opener:'.opener',slider:'.slide',animSpeed:400,effect:'fade',event:'click'},options);this.init();}
OpenClose.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.makeCallback('onInit',this);}},findElements:function(){this.holder=$(this.options.holder);this.opener=this.holder.find(this.options.opener);this.slider=this.holder.find(this.options.slider);},attachEvents:function(){var self=this;this.eventHandler=function(e){e.preventDefault();if(self.slider.hasClass(slideHiddenClass)){self.showSlide();}else{self.hideSlide();}};self.opener.bind(self.options.event,this.eventHandler);if(self.options.event==='over'){self.opener.bind('mouseenter',function(){if(!self.holder.hasClass(self.options.activeClass)){self.showSlide();}});self.holder.bind('mouseleave',function(){self.hideSlide();});}
self.outsideClickHandler=function(e){if(self.options.hideOnClickOutside){var target=$(e.target);if(!target.is(self.holder)&&!target.closest(self.holder).length){self.hideSlide();}}};if(this.holder.hasClass(this.options.activeClass)){$(document).bind('click touchstart',self.outsideClickHandler);}else{this.slider.addClass(slideHiddenClass);}},showSlide:function(){var self=this;if(self.options.addClassBeforeAnimation){self.holder.addClass(self.options.activeClass);}
self.slider.removeClass(slideHiddenClass);$(document).bind('click touchstart',self.outsideClickHandler);self.makeCallback('animStart',true);toggleEffects[self.options.effect].show({box:self.slider,speed:self.options.animSpeed,complete:function(){if(!self.options.addClassBeforeAnimation){self.holder.addClass(self.options.activeClass);}
self.makeCallback('animEnd',true);}});},hideSlide:function(){var self=this;if(self.options.addClassBeforeAnimation){self.holder.removeClass(self.options.activeClass);}
$(document).unbind('click touchstart',self.outsideClickHandler);self.makeCallback('animStart',false);toggleEffects[self.options.effect].hide({box:self.slider,speed:self.options.animSpeed,complete:function(){if(!self.options.addClassBeforeAnimation){self.holder.removeClass(self.options.activeClass);}
self.slider.addClass(slideHiddenClass);self.makeCallback('animEnd',false);}});},destroy:function(){this.slider.removeClass(slideHiddenClass).css({display:''});this.opener.unbind(this.options.event,this.eventHandler);this.holder.removeClass(this.options.activeClass).removeData('OpenClose');$(document).unbind('click touchstart',this.outsideClickHandler);},makeCallback:function(name){if(typeof this.options[name]==='function'){var args=Array.prototype.slice.call(arguments);args.shift();this.options[name].apply(this,args);}}};var slideHiddenClass='js-slide-hidden';(function(){var tabStyleSheet=$('<style type="text/css">')[0];var tabStyleRule='.'+slideHiddenClass;tabStyleRule+='{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}';if(tabStyleSheet.styleSheet){tabStyleSheet.styleSheet.cssText=tabStyleRule;}else{tabStyleSheet.appendChild(document.createTextNode(tabStyleRule));}
$('head').append(tabStyleSheet);}());var toggleEffects={slide:{show:function(o){o.box.stop(true).hide().slideDown(o.speed,o.complete);},hide:function(o){o.box.stop(true).slideUp(o.speed,o.complete);}},fade:{show:function(o){o.box.stop(true).hide().fadeIn(o.speed,o.complete);},hide:function(o){o.box.stop(true).fadeOut(o.speed,o.complete);}},none:{show:function(o){o.box.hide().show(0,o.complete);},hide:function(o){o.box.hide(0,o.complete);}}};$.fn.openClose=function(opt){return this.each(function(){jQuery(this).data('OpenClose',new OpenClose($.extend(opt,{holder:this})));});};}(jQuery));;(function($){function ContentPopup(opt){this.options=$.extend({holder:null,popup:'.popup',btnOpen:'.open',btnClose:'.close',openClass:'popup-active',clickEvent:'click',mode:'click',hideOnClickLink:true,hideOnClickOutside:true,delay:50},opt);if(this.options.holder){this.holder=$(this.options.holder);this.init();}}
ContentPopup.prototype={init:function(){this.findElements();this.attachEvents();},findElements:function(){this.popup=this.holder.find(this.options.popup);this.btnOpen=this.holder.find(this.options.btnOpen);this.btnClose=this.holder.find(this.options.btnClose);},attachEvents:function(){var self=this;this.clickMode=isTouchDevice||(self.options.mode===self.options.clickEvent);if(this.clickMode){this.btnOpen.bind(self.options.clickEvent,function(e){if(self.holder.hasClass(self.options.openClass)){if(self.options.hideOnClickLink){self.hidePopup();}}else{self.showPopup();}
e.preventDefault();});this.outsideClickHandler=this.bind(this.outsideClickHandler,this);}else{var timer,delayedFunc=function(func){clearTimeout(timer);timer=setTimeout(function(){func.call(self);},self.options.delay);};this.btnOpen.bind('mouseover',function(){delayedFunc(self.showPopup);}).bind('mouseout',function(){delayedFunc(self.hidePopup);});this.popup.bind('mouseover',function(){delayedFunc(self.showPopup);}).bind('mouseout',function(){delayedFunc(self.hidePopup);});}
this.btnClose.bind(self.options.clickEvent,function(e){self.hidePopup();e.preventDefault();});},outsideClickHandler:function(e){var targetNode=$((e.changedTouches?e.changedTouches[0]:e).target);if(!targetNode.closest(this.popup).length&&!targetNode.closest(this.btnOpen).length){this.hidePopup();}},showPopup:function(){this.holder.addClass(this.options.openClass);this.popup.css({display:'block'});if(this.clickMode&&this.options.hideOnClickOutside&&!this.outsideHandlerActive){this.outsideHandlerActive=true;$(document).bind('click touchstart',this.outsideClickHandler);}},hidePopup:function(){this.holder.removeClass(this.options.openClass);this.popup.css({display:'none'});if(this.clickMode&&this.options.hideOnClickOutside&&this.outsideHandlerActive){this.outsideHandlerActive=false;$(document).unbind('click touchstart',this.outsideClickHandler);}},bind:function(f,scope,forceArgs){return function(){return f.apply(scope,forceArgs?[forceArgs]:arguments);};}};var isTouchDevice=/Windows Phone/.test(navigator.userAgent)||('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch;$.fn.contentPopup=function(opt){return this.each(function(){new ContentPopup($.extend(opt,{holder:this}));});};}(jQuery));;(function($){$.fn.sameHeight=function(opt){var options=$.extend({skipClass:'same-height-ignore',leftEdgeClass:'same-height-left',rightEdgeClass:'same-height-right',elements:'>*',flexible:false,multiLine:false,useMinHeight:false,biggestHeight:false},opt);return this.each(function(){var holder=$(this),postResizeTimer,ignoreResize;var elements=holder.find(options.elements).not('.'+options.skipClass);if(!elements.length)return;function doResize(){elements.css(options.useMinHeight&&supportMinHeight?'minHeight':'height','');if(options.multiLine){resizeElementsByRows(elements,options);}else{resizeElements(elements,holder,options);}}
doResize();var delayedResizeHandler=function(){if(!ignoreResize){ignoreResize=true;doResize();clearTimeout(postResizeTimer);postResizeTimer=setTimeout(function(){doResize();setTimeout(function(){ignoreResize=false;},10);},100);}};if(options.flexible){$(window).bind('resize orientationchange fontresize',delayedResizeHandler);}
$(window).bind('load',delayedResizeHandler);});};var supportMinHeight=typeof document.documentElement.style.maxHeight!=='undefined';function resizeElementsByRows(boxes,options){var currentRow=$(),maxHeight,maxCalcHeight=0,firstOffset=boxes.eq(0).offset().top;boxes.each(function(ind){var curItem=$(this);if(curItem.offset().top===firstOffset){currentRow=currentRow.add(this);}else{maxHeight=getMaxHeight(currentRow);maxCalcHeight=Math.max(maxCalcHeight,resizeElements(currentRow,maxHeight,options));currentRow=curItem;firstOffset=curItem.offset().top;}});if(currentRow.length){maxHeight=getMaxHeight(currentRow);maxCalcHeight=Math.max(maxCalcHeight,resizeElements(currentRow,maxHeight,options));}
if(options.biggestHeight){boxes.css(options.useMinHeight&&supportMinHeight?'minHeight':'height',maxCalcHeight);}}
function getMaxHeight(boxes){var maxHeight=0;boxes.each(function(){maxHeight=Math.max(maxHeight,$(this).outerHeight());});return maxHeight;}
function resizeElements(boxes,parent,options){var calcHeight;var parentHeight=typeof parent==='number'?parent:parent.height();boxes.removeClass(options.leftEdgeClass).removeClass(options.rightEdgeClass).each(function(i){var element=$(this);var depthDiffHeight=0;var isBorderBox=element.css('boxSizing')==='border-box'||element.css('-moz-box-sizing')==='border-box'||element.css('-webkit-box-sizing')==='border-box';if(typeof parent!=='number'){element.parents().each(function(){var tmpParent=$(this);if(parent.is(this)){return false;}else{depthDiffHeight+=tmpParent.outerHeight()-tmpParent.height();}});}
calcHeight=parentHeight-depthDiffHeight;calcHeight-=isBorderBox?0:element.outerHeight()-element.height();if(calcHeight>0){element.css(options.useMinHeight&&supportMinHeight?'minHeight':'height',calcHeight);}});boxes.filter(':first').addClass(options.leftEdgeClass);boxes.filter(':last').addClass(options.rightEdgeClass);return calcHeight;}}(jQuery));jQuery.onFontResize=(function($){$(function(){var randomID='font-resize-frame-'+Math.floor(Math.random()*1000);var resizeFrame=$('<iframe>').attr('id',randomID).addClass('font-resize-helper');resizeFrame.css({width:'100em',height:'10px',position:'absolute',borderWidth:0,top:'-9999px',left:'-9999px'}).appendTo('body');if(window.attachEvent&&!window.addEventListener){resizeFrame.bind('resize',function(){$.onFontResize.trigger(resizeFrame[0].offsetWidth/100);});}
else{var doc=resizeFrame[0].contentWindow.document;doc.open();doc.write('<scri'+'pt>window.onload = function(){var em = parent.jQuery("#'+randomID+'")[0];window.onresize = function(){if(parent.jQuery.onFontResize){parent.jQuery.onFontResize.trigger(em.offsetWidth / 100);}}};</scri'+'pt>');doc.close();}
jQuery.onFontResize.initialSize=resizeFrame[0].offsetWidth/100;});return{trigger:function(em){$(window).trigger("fontresize",[em]);}};}(jQuery));/*!http://mths.be/placeholder v2.0.7 by @mathias*/;(function(window,document,$){var isOperaMini=Object.prototype.toString.call(window.operamini)=='[object OperaMini]';var isInputSupported='placeholder'in document.createElement('input')&&!isOperaMini;var isTextareaSupported='placeholder'in document.createElement('textarea')&&!isOperaMini;var prototype=$.fn;var valHooks=$.valHooks;var propHooks=$.propHooks;var hooks;var placeholder;if(isInputSupported&&isTextareaSupported){placeholder=prototype.placeholder=function(){return this;};placeholder.input=placeholder.textarea=true;}else{placeholder=prototype.placeholder=function(){var $this=this;$this.filter((isInputSupported?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':clearPlaceholder,'blur.placeholder':setPlaceholder}).data('placeholder-enabled',true).trigger('blur.placeholder');return $this;};placeholder.input=isInputSupported;placeholder.textarea=isTextareaSupported;hooks={'get':function(element){var $element=$(element);var $passwordInput=$element.data('placeholder-password');if($passwordInput){return $passwordInput[0].value;}
return $element.data('placeholder-enabled')&&$element.hasClass('placeholder')?'':element.value;},'set':function(element,value){var $element=$(element);var $passwordInput=$element.data('placeholder-password');if($passwordInput){return $passwordInput[0].value=value;}
if(!$element.data('placeholder-enabled')){return element.value=value;}
if(value==''){element.value=value;if(element!=safeActiveElement()){setPlaceholder.call(element);}}else if($element.hasClass('placeholder')){clearPlaceholder.call(element,true,value)||(element.value=value);}else{element.value=value;}
return $element;}};if(!isInputSupported){valHooks.input=hooks;propHooks.value=hooks;}
if(!isTextareaSupported){valHooks.textarea=hooks;propHooks.value=hooks;}
$(function(){$(document).delegate('form','submit.placeholder',function(){var $inputs=$('.placeholder',this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder);},10);});});$(window).bind('beforeunload.placeholder',function(){$('.placeholder').each(function(){this.value='';});});}
function args(elem){var newAttrs={};var rinlinejQuery=/^jQuery\d+$/;$.each(elem.attributes,function(i,attr){if(attr.specified&&!rinlinejQuery.test(attr.name)){newAttrs[attr.name]=attr.value;}});return newAttrs;}
function clearPlaceholder(event,value){var input=this;var $input=$(input);if(input.value==$input.attr('placeholder')&&$input.hasClass('placeholder')){if($input.data('placeholder-password')){$input=$input.hide().next().show().attr('id',$input.removeAttr('id').data('placeholder-id'));if(event===true){return $input[0].value=value;}
$input.focus();}else{input.value='';$input.removeClass('placeholder');input==safeActiveElement()&&input.select();}}}
function setPlaceholder(){var $replacement;var input=this;var $input=$(input);var id=this.id;if(input.value==''){if(input.type=='password'){if(!$input.data('placeholder-textinput')){try{$replacement=$input.clone().attr({'type':'text'});}catch(e){$replacement=$('<input>').attr($.extend(args(this),{'type':'text'}));}
$replacement.removeAttr('name').data({'placeholder-password':$input,'placeholder-id':id}).bind('focus.placeholder',clearPlaceholder);$input.data({'placeholder-textinput':$replacement,'placeholder-id':id}).before($replacement);}
$input=$input.removeAttr('id').hide().prev().attr('id',id).show();}
$input.addClass('placeholder');$input[0].value=$input.attr('placeholder');}else{$input.removeClass('placeholder');}}
function safeActiveElement(){try{return document.activeElement;}catch(err){}}}(this,document,jQuery));/*!
* JavaScript Custom Forms
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function(root,factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{root.jcf=factory(jQuery);}}(this,function($){'use strict';var version='1.1.3';var customInstances=[];var commonOptions={optionsKey:'jcf',dataKey:'jcf-instance',rtlClass:'jcf-rtl',focusClass:'jcf-focus',pressedClass:'jcf-pressed',disabledClass:'jcf-disabled',hiddenClass:'jcf-hidden',resetAppearanceClass:'jcf-reset-appearance',unselectableClass:'jcf-unselectable'};var isTouchDevice=('ontouchstart'in window)||window.DocumentTouch&&document instanceof window.DocumentTouch,isWinPhoneDevice=/Windows Phone/.test(navigator.userAgent);commonOptions.isMobileDevice=!!(isTouchDevice||isWinPhoneDevice);var createStyleSheet=function(){var styleTag=$('<style>').appendTo('head'),styleSheet=styleTag.prop('sheet')||styleTag.prop('styleSheet');var addCSSRule=function(selector,rules,index){if(styleSheet.insertRule){styleSheet.insertRule(selector+'{'+rules+'}',index);}else{styleSheet.addRule(selector,rules,index);}};addCSSRule('.'+commonOptions.hiddenClass,'position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none');addCSSRule('.'+commonOptions.rtlClass+' .'+commonOptions.hiddenClass,'right:-9999px !important; left: auto !important');addCSSRule('.'+commonOptions.unselectableClass,'-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);');addCSSRule('.'+commonOptions.resetAppearanceClass,'background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);');var html=$('html'),body=$('body');if(html.css('direction')==='rtl'||body.css('direction')==='rtl'){html.addClass(commonOptions.rtlClass);}
html.on('reset',function(){setTimeout(function(){api.refreshAll();},0);});commonOptions.styleSheetCreated=true;};(function(){var pointerEventsSupported=navigator.pointerEnabled||navigator.msPointerEnabled,touchEventsSupported=('ontouchstart'in window)||window.DocumentTouch&&document instanceof window.DocumentTouch,eventList,eventMap={},eventPrefix='jcf-';if(pointerEventsSupported){eventList={pointerover:navigator.pointerEnabled?'pointerover':'MSPointerOver',pointerdown:navigator.pointerEnabled?'pointerdown':'MSPointerDown',pointermove:navigator.pointerEnabled?'pointermove':'MSPointerMove',pointerup:navigator.pointerEnabled?'pointerup':'MSPointerUp'};}else{eventList={pointerover:'mouseover',pointerdown:'mousedown'+(touchEventsSupported?' touchstart':''),pointermove:'mousemove'+(touchEventsSupported?' touchmove':''),pointerup:'mouseup'+(touchEventsSupported?' touchend':'')};}
$.each(eventList,function(targetEventName,fakeEventList){$.each(fakeEventList.split(' '),function(index,fakeEventName){eventMap[fakeEventName]=targetEventName;});});$.each(eventList,function(eventName,eventHandlers){eventHandlers=eventHandlers.split(' ');$.event.special[eventPrefix+eventName]={setup:function(){var self=this;$.each(eventHandlers,function(index,fallbackEvent){if(self.addEventListener)self.addEventListener(fallbackEvent,fixEvent,false);else self['on'+fallbackEvent]=fixEvent;});},teardown:function(){var self=this;$.each(eventHandlers,function(index,fallbackEvent){if(self.addEventListener)self.removeEventListener(fallbackEvent,fixEvent,false);else self['on'+fallbackEvent]=null;});}};});var lastTouch=null;var mouseEventSimulated=function(e){var dx=Math.abs(e.pageX-lastTouch.x),dy=Math.abs(e.pageY-lastTouch.y),rangeDistance=25;if(dx<=rangeDistance&&dy<=rangeDistance){return true;}};var fixEvent=function(e){var origEvent=e||window.event,touchEventData=null,targetEventName=eventMap[origEvent.type];e=$.event.fix(origEvent);e.type=eventPrefix+targetEventName;if(origEvent.pointerType){switch(origEvent.pointerType){case 2:e.pointerType='touch';break;case 3:e.pointerType='pen';break;case 4:e.pointerType='mouse';break;default:e.pointerType=origEvent.pointerType;}}else{e.pointerType=origEvent.type.substr(0,5);}
if(!e.pageX&&!e.pageY){touchEventData=origEvent.changedTouches?origEvent.changedTouches[0]:origEvent;e.pageX=touchEventData.pageX;e.pageY=touchEventData.pageY;}
if(origEvent.type==='touchend'){lastTouch={x:e.pageX,y:e.pageY};}
if(e.pointerType==='mouse'&&lastTouch&&mouseEventSimulated(e)){return;}else{return($.event.dispatch||$.event.handle).call(this,e);}};}());(function(){var wheelEvents=('onwheel'in document||document.documentMode>=9?'wheel':'mousewheel DOMMouseScroll').split(' '),shimEventName='jcf-mousewheel';$.event.special[shimEventName]={setup:function(){var self=this;$.each(wheelEvents,function(index,fallbackEvent){if(self.addEventListener)self.addEventListener(fallbackEvent,fixEvent,false);else self['on'+fallbackEvent]=fixEvent;});},teardown:function(){var self=this;$.each(wheelEvents,function(index,fallbackEvent){if(self.addEventListener)self.removeEventListener(fallbackEvent,fixEvent,false);else self['on'+fallbackEvent]=null;});}};var fixEvent=function(e){var origEvent=e||window.event;e=$.event.fix(origEvent);e.type=shimEventName;if('detail'in origEvent){e.deltaY=-origEvent.detail;}
if('wheelDelta'in origEvent){e.deltaY=-origEvent.wheelDelta;}
if('wheelDeltaY'in origEvent){e.deltaY=-origEvent.wheelDeltaY;}
if('wheelDeltaX'in origEvent){e.deltaX=-origEvent.wheelDeltaX;}
if('deltaY'in origEvent){e.deltaY=origEvent.deltaY;}
if('deltaX'in origEvent){e.deltaX=origEvent.deltaX;}
e.delta=e.deltaY||e.deltaX;if(origEvent.deltaMode===1){var lineHeight=16;e.delta*=lineHeight;e.deltaY*=lineHeight;e.deltaX*=lineHeight;}
return($.event.dispatch||$.event.handle).call(this,e);};}());var moduleMixin={fireNativeEvent:function(elements,eventName){$(elements).each(function(){var element=this,eventObject;if(element.dispatchEvent){eventObject=document.createEvent('HTMLEvents');eventObject.initEvent(eventName,true,true);element.dispatchEvent(eventObject);}else if(document.createEventObject){eventObject=document.createEventObject();eventObject.target=element;element.fireEvent('on'+eventName,eventObject);}});},bindHandlers:function(){var self=this;$.each(self,function(propName,propValue){if(propName.indexOf('on')===0&&$.isFunction(propValue)){self[propName]=function(){return propValue.apply(self,arguments);};}});}};var api={version:version,modules:{},getOptions:function(){return $.extend({},commonOptions);},setOptions:function(moduleName,moduleOptions){if(arguments.length>1){if(this.modules[moduleName]){$.extend(this.modules[moduleName].prototype.options,moduleOptions);}}else{$.extend(commonOptions,moduleName);}},addModule:function(proto){var Module=function(options){if(!options.element.data(commonOptions.dataKey)){options.element.data(commonOptions.dataKey,this);}
customInstances.push(this);this.options=$.extend({},commonOptions,this.options,getInlineOptions(options.element),options);this.bindHandlers();this.init.apply(this,arguments);};var getInlineOptions=function(element){var dataOptions=element.data(commonOptions.optionsKey),attrOptions=element.attr(commonOptions.optionsKey);if(dataOptions){return dataOptions;}else if(attrOptions){try{return $.parseJSON(attrOptions);}catch(e){}}};Module.prototype=proto;$.extend(proto,moduleMixin);if(proto.plugins){$.each(proto.plugins,function(pluginName,plugin){$.extend(plugin.prototype,moduleMixin);});}
var originalDestroy=Module.prototype.destroy;Module.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var i=customInstances.length-1;i>=0;i--){if(customInstances[i]===this){customInstances.splice(i,1);break;}}
if(originalDestroy){originalDestroy.apply(this,arguments);}};this.modules[proto.name]=Module;},getInstance:function(element){return $(element).data(commonOptions.dataKey);},replace:function(elements,moduleName,customOptions){var self=this,instance;if(!commonOptions.styleSheetCreated){createStyleSheet();}
$(elements).each(function(){var moduleOptions,element=$(this);instance=element.data(commonOptions.dataKey);if(instance){instance.refresh();}else{if(!moduleName){$.each(self.modules,function(currentModuleName,module){if(module.prototype.matchElement.call(module.prototype,element)){moduleName=currentModuleName;return false;}});}
if(moduleName){moduleOptions=$.extend({element:element},customOptions);instance=new self.modules[moduleName](moduleOptions);}}});return instance;},refresh:function(elements){$(elements).each(function(){var instance=$(this).data(commonOptions.dataKey);if(instance){instance.refresh();}});},destroy:function(elements){$(elements).each(function(){var instance=$(this).data(commonOptions.dataKey);if(instance){instance.destroy();}});},replaceAll:function(context){var self=this;$.each(this.modules,function(moduleName,module){$(module.prototype.selector,context).each(function(){if(this.className.indexOf('jcf-ignore')<0){self.replace(this,moduleName);}});});},refreshAll:function(context){if(context){$.each(this.modules,function(moduleName,module){$(module.prototype.selector,context).each(function(){var instance=$(this).data(commonOptions.dataKey);if(instance){instance.refresh();}});});}else{for(var i=customInstances.length-1;i>=0;i--){customInstances[i].refresh();}}},destroyAll:function(context){if(context){$.each(this.modules,function(moduleName,module){$(module.prototype.selector,context).each(function(index,element){var instance=$(element).data(commonOptions.dataKey);if(instance){instance.destroy();}});});}else{while(customInstances.length){customInstances[0].destroy();}}}};window.jcf=api;return api;}));/*!
* JavaScript Custom Forms : Select Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function($,window){'use strict';jcf.addModule({name:'Select',selector:'select',options:{element:null,multipleCompactStyle:false},plugins:{ListBox:ListBox,ComboBox:ComboBox,SelectList:SelectList},matchElement:function(element){return element.is('select');},init:function(){this.element=$(this.options.element);this.createInstance();},isListBox:function(){return this.element.is('[size]:not([jcf-size]), [multiple]');},createInstance:function(){if(this.instance){this.instance.destroy();}
if(this.isListBox()&&!this.options.multipleCompactStyle){this.instance=new ListBox(this.options);}else{this.instance=new ComboBox(this.options);}},refresh:function(){var typeMismatch=(this.isListBox()&&this.instance instanceof ComboBox)||(!this.isListBox()&&this.instance instanceof ListBox);if(typeMismatch){this.createInstance();}else{this.instance.refresh();}},destroy:function(){this.instance.destroy();}});function ComboBox(options){this.options=$.extend({wrapNative:true,wrapNativeOnMobile:true,fakeDropInBody:true,useCustomScroll:true,flipDropToFit:true,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:'jcf-option-',selectClassPrefix:'jcf-select-',dropContentSelector:'.jcf-select-drop-content',selectTextSelector:'.jcf-select-text',dropActiveClass:'jcf-drop-active',flipDropClass:'jcf-drop-flipped'},options);this.init();}
$.extend(ComboBox.prototype,{init:function(){this.initStructure();this.bindHandlers();this.attachEvents();this.refresh();},initStructure:function(){this.win=$(window);this.doc=$(document);this.realElement=$(this.options.element);this.fakeElement=$(this.options.fakeAreaStructure).insertAfter(this.realElement);this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector);this.selectText=$('<span></span>').appendTo(this.selectTextContainer);makeUnselectable(this.fakeElement);this.fakeElement.addClass(getPrefixedClasses(this.realElement.prop('className'),this.options.selectClassPrefix));if(this.realElement.prop('multiple')){this.fakeElement.addClass('jcf-compact-multiple');}
if(this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative){this.options.wrapNative=true;}
if(this.options.wrapNative){this.realElement.prependTo(this.fakeElement).css({position:'absolute',height:'100%',width:'100%'}).addClass(this.options.resetAppearanceClass);}else{this.realElement.addClass(this.options.hiddenClass);this.fakeElement.attr('title',this.realElement.attr('title'));this.fakeDropTarget=this.options.fakeDropInBody?$('body'):this.fakeElement;}},attachEvents:function(){var self=this;this.delayedRefresh=function(){setTimeout(function(){self.refresh();if(self.list){self.list.refresh();self.list.scrollToActiveOption();}},1);};if(this.options.wrapNative){this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.onChange});}else{this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown});this.fakeElement.on({'jcf-pointerdown':this.onSelectAreaPress});}},onKeyDown:function(e){if(e.which===13){this.toggleDropdown();}else if(this.dropActive){this.delayedRefresh();}},onChange:function(){this.refresh();},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.fakeElement.addClass(this.options.focusClass);this.realElement.on('blur',this.onBlur);this.toggleListMode(true);this.focusedFlag=true;}},onBlur:function(){if(!this.pressedFlag){this.fakeElement.removeClass(this.options.focusClass);this.realElement.off('blur',this.onBlur);this.toggleListMode(false);this.focusedFlag=false;}},onResize:function(){if(this.dropActive){this.hideDropdown();}},onSelectDropPress:function(){this.pressedFlag=true;},onSelectDropRelease:function(e,pointerEvent){this.pressedFlag=false;if(pointerEvent.pointerType==='mouse'){this.realElement.focus();}},onSelectAreaPress:function(e){var dropClickedInsideFakeElement=!this.options.fakeDropInBody&&$(e.target).closest(this.dropdown).length;if(dropClickedInsideFakeElement||e.button>1||this.realElement.is(':disabled')){return;}
this.selectOpenedByEvent=e.pointerType;this.toggleDropdown();if(!this.focusedFlag){if(e.pointerType==='mouse'){this.realElement.focus();}else{this.onFocus(e);}}
this.pressedFlag=true;this.fakeElement.addClass(this.options.pressedClass);this.doc.on('jcf-pointerup',this.onSelectAreaRelease);},onSelectAreaRelease:function(e){if(this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=false;this.fakeElement.removeClass(this.options.pressedClass);this.doc.off('jcf-pointerup',this.onSelectAreaRelease);},onOutsideClick:function(e){var target=$(e.target),clickedInsideSelect=target.closest(this.fakeElement).length||target.closest(this.dropdown).length;if(!clickedInsideSelect){this.hideDropdown();}},onSelect:function(){this.refresh();if(this.realElement.prop('multiple')){this.repositionDropdown();}else{this.hideDropdown();}
this.fireNativeEvent(this.realElement,'change');},toggleListMode:function(state){if(!this.options.wrapNative){if(state){this.realElement.attr({size:4,'jcf-size':''});}else{if(!this.options.wrapNative){this.realElement.removeAttr('size jcf-size');}}}},createDropdown:function(){if(this.dropdown){this.list.destroy();this.dropdown.remove();}
this.dropdown=$(this.options.fakeDropStructure).appendTo(this.fakeDropTarget);this.dropdown.addClass(getPrefixedClasses(this.realElement.prop('className'),this.options.selectClassPrefix));makeUnselectable(this.dropdown);if(this.realElement.prop('multiple')){this.dropdown.addClass('jcf-compact-multiple');}
if(this.options.fakeDropInBody){this.dropdown.css({position:'absolute',top:-9999});}
this.list=new SelectList({useHoverClass:true,handleResize:false,alwaysPreventMouseWheel:true,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop('multiple'),element:this.realElement});$(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease});},repositionDropdown:function(){var selectOffset=this.fakeElement.offset(),selectWidth=this.fakeElement.outerWidth(),selectHeight=this.fakeElement.outerHeight(),dropHeight=this.dropdown.css('width',selectWidth).outerHeight(),winScrollTop=this.win.scrollTop(),winHeight=this.win.height(),calcTop,calcLeft,bodyOffset,needFlipDrop=false;if(selectOffset.top+selectHeight+dropHeight>winScrollTop+winHeight&&selectOffset.top-dropHeight>winScrollTop){needFlipDrop=true;}
if(this.options.fakeDropInBody){bodyOffset=this.fakeDropTarget.css('position')!=='static'?this.fakeDropTarget.offset().top:0;if(this.options.flipDropToFit&&needFlipDrop){calcLeft=selectOffset.left;calcTop=selectOffset.top-dropHeight-bodyOffset;}else{calcLeft=selectOffset.left;calcTop=selectOffset.top+selectHeight-bodyOffset;}
this.dropdown.css({width:selectWidth,left:calcLeft,top:calcTop});}
this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&needFlipDrop);},showDropdown:function(){if(!this.realElement.prop('options').length){return;}
if(!this.dropdown){this.createDropdown();}
this.dropActive=true;this.dropdown.appendTo(this.fakeDropTarget);this.fakeElement.addClass(this.options.dropActiveClass);this.refreshSelectedText();this.repositionDropdown();this.list.setScrollTop(this.savedScrollTop);this.list.refresh();this.win.on('resize',this.onResize);this.doc.on('jcf-pointerdown',this.onOutsideClick);},hideDropdown:function(){if(this.dropdown){this.savedScrollTop=this.list.getScrollTop();this.fakeElement.removeClass(this.options.dropActiveClass+' '+this.options.flipDropClass);this.dropdown.removeClass(this.options.flipDropClass).detach();this.doc.off('jcf-pointerdown',this.onOutsideClick);this.win.off('resize',this.onResize);this.dropActive=false;if(this.selectOpenedByEvent==='touch'){this.onBlur();}}},toggleDropdown:function(){if(this.dropActive){this.hideDropdown();}else{this.showDropdown();}},refreshSelectedText:function(){var selectedIndex=this.realElement.prop('selectedIndex'),selectedOption=this.realElement.prop('options')[selectedIndex],selectedOptionImage=selectedOption?selectedOption.getAttribute('data-image'):null,selectedOptionText='',selectedOptionClasses,self=this;if(this.realElement.prop('multiple')){$.each(this.realElement.prop('options'),function(index,option){if(option.selected){selectedOptionText+=(selectedOptionText?', ':'')+option.innerHTML;}});if(!selectedOptionText){selectedOptionText=self.realElement.attr('placeholder')||'';}
this.selectText.removeAttr('class').html(selectedOptionText);}else if(!selectedOption){if(this.selectImage){this.selectImage.hide();}
this.selectText.removeAttr('class').empty();}else if(this.currentSelectedText!==selectedOption.innerHTML||this.currentSelectedImage!==selectedOptionImage){selectedOptionClasses=getPrefixedClasses(selectedOption.className,this.options.optionClassPrefix);this.selectText.attr('class',selectedOptionClasses).html(selectedOption.innerHTML);if(selectedOptionImage){if(!this.selectImage){this.selectImage=$('<img>').prependTo(this.selectTextContainer).hide();}
this.selectImage.attr('src',selectedOptionImage).show();}else if(this.selectImage){this.selectImage.hide();}
this.currentSelectedText=selectedOption.innerHTML;this.currentSelectedImage=selectedOptionImage;}},refresh:function(){if(this.realElement.prop('style').display==='none'){this.fakeElement.hide();}else{this.fakeElement.show();}
this.refreshSelectedText();this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(':disabled'));},destroy:function(){if(this.options.wrapNative){this.realElement.insertBefore(this.fakeElement).css({position:'',height:'',width:''}).removeClass(this.options.resetAppearanceClass);}else{this.realElement.removeClass(this.options.hiddenClass);if(this.realElement.is('[jcf-size]')){this.realElement.removeAttr('size jcf-size');}}
this.fakeElement.remove();this.doc.off('jcf-pointerup',this.onSelectAreaRelease);this.realElement.off({focus:this.onFocus});}});function ListBox(options){this.options=$.extend({wrapNative:true,useCustomScroll:true,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:'jcf-select-',listHolder:'.jcf-list-wrapper'},options);this.init();}
$.extend(ListBox.prototype,{init:function(){this.bindHandlers();this.initStructure();this.attachEvents();},initStructure:function(){this.realElement=$(this.options.element);this.fakeElement=$(this.options.fakeStructure).insertAfter(this.realElement);this.listHolder=this.fakeElement.find(this.options.listHolder);makeUnselectable(this.fakeElement);this.fakeElement.addClass(getPrefixedClasses(this.realElement.prop('className'),this.options.selectClassPrefix));this.realElement.addClass(this.options.hiddenClass);this.list=new SelectList({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:false,element:this.realElement});},attachEvents:function(){var self=this;this.delayedRefresh=function(e){if(e&&e.which===16){return;}else{clearTimeout(self.refreshTimer);self.refreshTimer=setTimeout(function(){self.refresh();self.list.scrollToActiveOption();},1);}};this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh});$(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease});},onFakeOptionsPress:function(e,pointerEvent){this.pressedFlag=true;if(pointerEvent.pointerType==='mouse'){this.realElement.focus();}},onFakeOptionsRelease:function(e,pointerEvent){this.pressedFlag=false;if(pointerEvent.pointerType==='mouse'){this.realElement.focus();}},onSelect:function(){this.fireNativeEvent(this.realElement,'change');this.fireNativeEvent(this.realElement,'click');},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.fakeElement.addClass(this.options.focusClass);this.realElement.on('blur',this.onBlur);this.focusedFlag=true;}},onBlur:function(){if(!this.pressedFlag){this.fakeElement.removeClass(this.options.focusClass);this.realElement.off('blur',this.onBlur);this.focusedFlag=false;}},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(':disabled'));this.list.refresh();},destroy:function(){this.list.destroy();this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass);this.fakeElement.remove();}});function SelectList(options){this.options=$.extend({holder:null,maxVisibleItems:10,selectOnClick:true,useHoverClass:false,useCustomScroll:false,handleResize:true,multipleSelectWithoutKey:false,alwaysPreventMouseWheel:false,indexAttribute:'data-index',cloneClassPrefix:'jcf-option-',containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:'.jcf-list-content',captionClass:'jcf-optgroup-caption',disabledClass:'jcf-disabled',optionClass:'jcf-option',groupClass:'jcf-optgroup',hoverClass:'jcf-hover',selectedClass:'jcf-selected',scrollClass:'jcf-scroll-active'},options);this.init();}
$.extend(SelectList.prototype,{init:function(){this.initStructure();this.refreshSelectedClass();this.attachEvents();},initStructure:function(){this.element=$(this.options.element);this.indexSelector='['+this.options.indexAttribute+']';this.container=$(this.options.containerStructure).appendTo(this.options.holder);this.listHolder=this.container.find(this.options.containerSelector);this.lastClickedIndex=this.element.prop('selectedIndex');this.rebuildList();},attachEvents:function(){this.bindHandlers();this.listHolder.on('jcf-pointerdown',this.indexSelector,this.onItemPress);this.listHolder.on('jcf-pointerdown',this.onPress);if(this.options.useHoverClass){this.listHolder.on('jcf-pointerover',this.indexSelector,this.onHoverItem);}},onPress:function(e){$(this).trigger('press',e);this.listHolder.on('jcf-pointerup',this.onRelease);},onRelease:function(e){$(this).trigger('release',e);this.listHolder.off('jcf-pointerup',this.onRelease);},onHoverItem:function(e){var hoverIndex=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(hoverIndex).addClass(this.options.hoverClass);},onItemPress:function(e){if(e.pointerType==='touch'||this.options.selectOnClick){this.tmpListOffsetTop=this.list.offset().top;this.listHolder.on('jcf-pointerup',this.indexSelector,this.onItemRelease);}else{this.onSelectItem(e);}},onItemRelease:function(e){this.listHolder.off('jcf-pointerup',this.indexSelector,this.onItemRelease);if(this.tmpListOffsetTop===this.list.offset().top){this.listHolder.on('click',this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem);}
delete this.tmpListOffsetTop;},onSelectItem:function(e){var clickedIndex=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),pointerType=e.data&&e.data.savedPointerType||e.pointerType||'mouse',range;this.listHolder.off('click',this.indexSelector,this.onSelectItem);if(e.button>1||this.realOptions[clickedIndex].disabled){return;}
if(this.element.prop('multiple')){if(e.metaKey||e.ctrlKey||pointerType==='touch'||this.options.multipleSelectWithoutKey){this.realOptions[clickedIndex].selected=!this.realOptions[clickedIndex].selected;}else if(e.shiftKey){range=[this.lastClickedIndex,clickedIndex].sort(function(a,b){return a-b;});this.realOptions.each(function(index,option){option.selected=(index>=range[0]&&index<=range[1]);});}else{this.element.prop('selectedIndex',clickedIndex);}}else{this.element.prop('selectedIndex',clickedIndex);}
if(!e.shiftKey){this.lastClickedIndex=clickedIndex;}
this.refreshSelectedClass();if(pointerType==='mouse'){this.scrollToActiveOption();}
$(this).trigger('select');},rebuildList:function(){var self=this,rootElement=this.element[0];this.storedSelectHTML=rootElement.innerHTML;this.optionIndex=0;this.list=$(this.createOptionsList(rootElement));this.listHolder.empty().append(this.list);this.realOptions=this.element.find('option');this.fakeOptions=this.list.find(this.indexSelector);this.fakeListItems=this.list.find('.'+this.options.captionClass+','+this.indexSelector);delete this.optionIndex;var maxCount=this.options.maxVisibleItems,sizeValue=this.element.prop('size');if(sizeValue>1&&!this.element.is('[jcf-size]')){maxCount=sizeValue;}
var needScrollBar=this.fakeOptions.length>maxCount;this.container.toggleClass(this.options.scrollClass,needScrollBar);if(needScrollBar){this.listHolder.css({maxHeight:this.getOverflowHeight(maxCount),overflow:'auto'});if(this.options.useCustomScroll&&jcf.modules.Scrollable){jcf.replace(this.listHolder,'Scrollable',{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel});return;}}
if(this.options.alwaysPreventMouseWheel){this.preventWheelHandler=function(e){var currentScrollTop=self.listHolder.scrollTop(),maxScrollTop=self.listHolder.prop('scrollHeight')-self.listHolder.innerHeight();if((currentScrollTop<=0&&e.deltaY<0)||(currentScrollTop>=maxScrollTop&&e.deltaY>0)){e.preventDefault();}};this.listHolder.on('jcf-mousewheel',this.preventWheelHandler);}},refreshSelectedClass:function(){var self=this,selectedItem,isMultiple=this.element.prop('multiple'),selectedIndex=this.element.prop('selectedIndex');if(isMultiple){this.realOptions.each(function(index,option){self.fakeOptions.eq(index).toggleClass(self.options.selectedClass,!!option.selected);});}else{this.fakeOptions.removeClass(this.options.selectedClass+' '+this.options.hoverClass);selectedItem=this.fakeOptions.eq(selectedIndex).addClass(this.options.selectedClass);if(this.options.useHoverClass){selectedItem.addClass(this.options.hoverClass);}}},scrollToActiveOption:function(){var targetOffset=this.getActiveOptionOffset();if(typeof targetOffset==='number'){this.listHolder.prop('scrollTop',targetOffset);}},getSelectedIndexRange:function(){var firstSelected=-1,lastSelected=-1;this.realOptions.each(function(index,option){if(option.selected){if(firstSelected<0){firstSelected=index;}
lastSelected=index;}});return[firstSelected,lastSelected];},getChangedSelectedIndex:function(){var selectedIndex=this.element.prop('selectedIndex'),targetIndex;if(this.element.prop('multiple')){if(!this.previousRange){this.previousRange=[selectedIndex,selectedIndex];}
this.currentRange=this.getSelectedIndexRange();targetIndex=this.currentRange[this.currentRange[0]!==this.previousRange[0]?0:1];this.previousRange=this.currentRange;return targetIndex;}else{return selectedIndex;}},getActiveOptionOffset:function(){var dropHeight=this.listHolder.height(),dropScrollTop=this.listHolder.prop('scrollTop'),currentIndex=this.getChangedSelectedIndex(),fakeOption=this.fakeOptions.eq(currentIndex),fakeOptionOffset=fakeOption.offset().top-this.list.offset().top,fakeOptionHeight=fakeOption.innerHeight();if(fakeOptionOffset+fakeOptionHeight>=dropScrollTop+dropHeight){return fakeOptionOffset-dropHeight+fakeOptionHeight;}else if(fakeOptionOffset<dropScrollTop){return fakeOptionOffset;}},getOverflowHeight:function(sizeValue){var item=this.fakeListItems.eq(sizeValue-1),listOffset=this.list.offset().top,itemOffset=item.offset().top,itemHeight=item.innerHeight();return itemOffset+itemHeight-listOffset;},getScrollTop:function(){return this.listHolder.scrollTop();},setScrollTop:function(value){this.listHolder.scrollTop(value);},createOption:function(option){var newOption=document.createElement('span');newOption.className=this.options.optionClass;newOption.innerHTML=option.innerHTML;newOption.setAttribute(this.options.indexAttribute,this.optionIndex++);var optionImage,optionImageSrc=option.getAttribute('data-image');if(optionImageSrc){optionImage=document.createElement('img');optionImage.src=optionImageSrc;newOption.insertBefore(optionImage,newOption.childNodes[0]);}
if(option.disabled){newOption.className+=' '+this.options.disabledClass;}
if(option.className){newOption.className+=' '+getPrefixedClasses(option.className,this.options.cloneClassPrefix);}
return newOption;},createOptGroup:function(optgroup){var optGroupContainer=document.createElement('span'),optGroupName=optgroup.getAttribute('label'),optGroupCaption,optGroupList;optGroupCaption=document.createElement('span');optGroupCaption.className=this.options.captionClass;optGroupCaption.innerHTML=optGroupName;optGroupContainer.appendChild(optGroupCaption);if(optgroup.children.length){optGroupList=this.createOptionsList(optgroup);optGroupContainer.appendChild(optGroupList);}
optGroupContainer.className=this.options.groupClass;return optGroupContainer;},createOptionContainer:function(){var optionContainer=document.createElement('li');return optionContainer;},createOptionsList:function(container){var self=this,list=document.createElement('ul');$.each(container.children,function(index,currentNode){var item=self.createOptionContainer(currentNode),newNode;switch(currentNode.tagName.toLowerCase()){case 'option':newNode=self.createOption(currentNode);break;case 'optgroup':newNode=self.createOptGroup(currentNode);break;}
list.appendChild(item).appendChild(newNode);});return list;},refresh:function(){if(this.storedSelectHTML!==this.element.prop('innerHTML')){this.rebuildList();}
var scrollInstance=jcf.getInstance(this.listHolder);if(scrollInstance){scrollInstance.refresh();}
this.refreshSelectedClass();},destroy:function(){this.listHolder.off('jcf-mousewheel',this.preventWheelHandler);this.listHolder.off('jcf-pointerdown',this.indexSelector,this.onSelectItem);this.listHolder.off('jcf-pointerover',this.indexSelector,this.onHoverItem);this.listHolder.off('jcf-pointerdown',this.onPress);}});var getPrefixedClasses=function(className,prefixToAdd){return className?className.replace(/[\s]*([\S]+)+[\s]*/gi,prefixToAdd+'$1 '):'';};var makeUnselectable=(function(){var unselectableClass=jcf.getOptions().unselectableClass;function preventHandler(e){e.preventDefault();}
return function(node){node.addClass(unselectableClass).on('selectstart',preventHandler);};}());}(jQuery,this));/*!
* JavaScript Custom Forms : Radio Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function($){'use strict';jcf.addModule({name:'Radio',selector:'input[type="radio"]',options:{wrapNative:true,checkedClass:'jcf-checked',uncheckedClass:'jcf-unchecked',labelActiveClass:'jcf-label-active',fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(element){return element.is(':radio');},init:function(){this.initStructure();this.attachEvents();this.refresh();},initStructure:function(){this.doc=$(document);this.realElement=$(this.options.element);this.fakeElement=$(this.options.fakeStructure).insertAfter(this.realElement);this.labelElement=this.getLabelFor();if(this.options.wrapNative){this.realElement.prependTo(this.fakeElement).css({position:'absolute',opacity:0});}else{this.realElement.addClass(this.options.hiddenClass);}},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick});this.fakeElement.on('click',this.onFakeClick);this.fakeElement.on('jcf-pointerdown',this.onPress);},onRealClick:function(e){var self=this;this.savedEventObject=e;setTimeout(function(){self.refreshRadioGroup();},0);},onFakeClick:function(e){if(this.options.wrapNative&&this.realElement.is(e.target)){return;}
if(!this.realElement.is(':disabled')){delete this.savedEventObject;this.currentActiveRadio=this.getCurrentActiveRadio();this.stateChecked=this.realElement.prop('checked');this.realElement.prop('checked',true);this.fireNativeEvent(this.realElement,'click');if(this.savedEventObject&&this.savedEventObject.isDefaultPrevented()){this.realElement.prop('checked',this.stateChecked);this.currentActiveRadio.prop('checked',true);}else{this.fireNativeEvent(this.realElement,'change');}
delete this.savedEventObject;}},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.focusedFlag=true;this.fakeElement.addClass(this.options.focusClass);this.realElement.on('blur',this.onBlur);}},onBlur:function(){if(!this.pressedFlag){this.focusedFlag=false;this.fakeElement.removeClass(this.options.focusClass);this.realElement.off('blur',this.onBlur);}},onPress:function(e){if(!this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=true;this.fakeElement.addClass(this.options.pressedClass);this.doc.on('jcf-pointerup',this.onRelease);},onRelease:function(e){if(this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=false;this.fakeElement.removeClass(this.options.pressedClass);this.doc.off('jcf-pointerup',this.onRelease);},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(':checked');},getRadioGroup:function(radio){var name=radio.attr('name'),parentForm=radio.parents('form');if(name){if(parentForm.length){return parentForm.find('input[name="'+name+'"]');}else{return $('input[name="'+name+'"]:not(form input)');}}else{return radio;}},getLabelFor:function(){var parentLabel=this.realElement.closest('label'),elementId=this.realElement.prop('id');if(!parentLabel.length&&elementId){parentLabel=$('label[for="'+elementId+'"]');}
return parentLabel.length?parentLabel:null;},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each(function(){jcf.refresh(this);});},refresh:function(){var isChecked=this.realElement.is(':checked'),isDisabled=this.realElement.is(':disabled');this.fakeElement.toggleClass(this.options.checkedClass,isChecked).toggleClass(this.options.uncheckedClass,!isChecked).toggleClass(this.options.disabledClass,isDisabled);if(this.labelElement){this.labelElement.toggleClass(this.options.labelActiveClass,isChecked);}},destroy:function(){if(this.options.wrapNative){this.realElement.insertBefore(this.fakeElement).css({position:'',width:'',height:'',opacity:'',margin:''});}else{this.realElement.removeClass(this.options.hiddenClass);}
this.fakeElement.off('jcf-pointerdown',this.onPress);this.fakeElement.remove();this.doc.off('jcf-pointerup',this.onRelease);this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick});}});}(jQuery));/*!
* JavaScript Custom Forms : Checkbox Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function($){'use strict';jcf.addModule({name:'Checkbox',selector:'input[type="checkbox"]',options:{wrapNative:true,checkedClass:'jcf-checked',uncheckedClass:'jcf-unchecked',labelActiveClass:'jcf-label-active',fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(element){return element.is(':checkbox');},init:function(){this.initStructure();this.attachEvents();this.refresh();},initStructure:function(){this.doc=$(document);this.realElement=$(this.options.element);this.fakeElement=$(this.options.fakeStructure).insertAfter(this.realElement);this.labelElement=this.getLabelFor();if(this.options.wrapNative){this.realElement.appendTo(this.fakeElement).css({position:'absolute',height:'100%',width:'100%',opacity:0,margin:0});}else{this.realElement.addClass(this.options.hiddenClass);}},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick});this.fakeElement.on('click',this.onFakeClick);this.fakeElement.on('jcf-pointerdown',this.onPress);},onRealClick:function(e){var self=this;this.savedEventObject=e;setTimeout(function(){self.refresh();},0);},onFakeClick:function(e){if(this.options.wrapNative&&this.realElement.is(e.target)){return;}
if(!this.realElement.is(':disabled')){delete this.savedEventObject;this.stateChecked=this.realElement.prop('checked');this.realElement.prop('checked',!this.stateChecked);this.fireNativeEvent(this.realElement,'click');if(this.savedEventObject&&this.savedEventObject.isDefaultPrevented()){this.realElement.prop('checked',this.stateChecked);}else{this.fireNativeEvent(this.realElement,'change');}
delete this.savedEventObject;}},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.focusedFlag=true;this.fakeElement.addClass(this.options.focusClass);this.realElement.on('blur',this.onBlur);}},onBlur:function(){if(!this.pressedFlag){this.focusedFlag=false;this.fakeElement.removeClass(this.options.focusClass);this.realElement.off('blur',this.onBlur);}},onPress:function(e){if(!this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=true;this.fakeElement.addClass(this.options.pressedClass);this.doc.on('jcf-pointerup',this.onRelease);},onRelease:function(e){if(this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=false;this.fakeElement.removeClass(this.options.pressedClass);this.doc.off('jcf-pointerup',this.onRelease);},getLabelFor:function(){var parentLabel=this.realElement.closest('label'),elementId=this.realElement.prop('id');if(!parentLabel.length&&elementId){parentLabel=$('label[for="'+elementId+'"]');}
return parentLabel.length?parentLabel:null;},refresh:function(){var isChecked=this.realElement.is(':checked'),isDisabled=this.realElement.is(':disabled');this.fakeElement.toggleClass(this.options.checkedClass,isChecked).toggleClass(this.options.uncheckedClass,!isChecked).toggleClass(this.options.disabledClass,isDisabled);if(this.labelElement){this.labelElement.toggleClass(this.options.labelActiveClass,isChecked);}},destroy:function(){if(this.options.wrapNative){this.realElement.insertBefore(this.fakeElement).css({position:'',width:'',height:'',opacity:'',margin:''});}else{this.realElement.removeClass(this.options.hiddenClass);}
this.fakeElement.off('jcf-pointerdown',this.onPress);this.fakeElement.remove();this.doc.off('jcf-pointerup',this.onRelease);this.realElement.off({focus:this.onFocus,click:this.onRealClick});}});}(jQuery));/*!
* JavaScript Custom Forms : Range Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function($){'use strict';jcf.addModule({name:'Range',selector:'input[type="range"]',options:{realElementClass:'jcf-real-element',fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:'.jcf-range-handle',trackSelector:'.jcf-range-track',activeHandleClass:'jcf-active-handle',verticalClass:'jcf-vertical',orientation:'horizontal',range:false,dragHandleCenter:true,snapToMarks:true,snapRadius:5},matchElement:function(element){return element.is(this.selector);},init:function(){this.initStructure();this.attachEvents();this.refresh();},initStructure:function(){this.page=$('html');this.realElement=$(this.options.element).addClass(this.options.hiddenClass);this.fakeElement=$(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement);this.track=this.fakeElement.find(this.options.trackSelector);this.trackHolder=this.track.parent();this.handle=this.fakeElement.find(this.options.handleSelector);this.createdHandleCount=0;this.activeDragHandleIndex=0;this.isMultiple=this.realElement.prop('multiple')||typeof this.realElement.attr('multiple')==='string';this.values=this.isMultiple?this.realElement.attr('value').split(','):[this.realElement.val()];this.handleCount=this.isMultiple?this.values.length:1;this.rangeDisplayWrapper=$(this.options.rangeDisplayWrapper).insertBefore(this.track);if(this.options.range==='min'||this.options.range==='all'){this.rangeMin=$(this.options.rangeDisplay).addClass('jcf-range-min').prependTo(this.rangeDisplayWrapper);}
if(this.options.range==='max'||this.options.range==='all'){this.rangeMax=$(this.options.rangeDisplay).addClass('jcf-range-max').prependTo(this.rangeDisplayWrapper);}
while(this.createdHandleCount<this.handleCount){this.createdHandleCount++;this.handle.clone().addClass('jcf-index-'+this.createdHandleCount).insertBefore(this.handle);if(this.createdHandleCount>1){if(!this.rangeMid){this.rangeMid=$();}
this.rangeMid=this.rangeMid.add($(this.options.rangeDisplay).addClass('jcf-range-mid').prependTo(this.rangeDisplayWrapper));}}
this.handle.detach();this.handle=null;this.handles=this.fakeElement.find(this.options.handleSelector);this.handles.eq(0).addClass(this.options.activeHandleClass);this.isVertical=(this.options.orientation==='vertical');this.directionProperty=this.isVertical?'top':'left';this.offsetProperty=this.isVertical?'bottom':'left';this.eventProperty=this.isVertical?'pageY':'pageX';this.sizeProperty=this.isVertical?'height':'width';this.sizeMethod=this.isVertical?'innerHeight':'innerWidth';this.fakeElement.css('touchAction',this.isVertical?'pan-x':'pan-y');if(this.isVertical){this.fakeElement.addClass(this.options.verticalClass);}
this.minValue=parseFloat(this.realElement.attr('min'));this.maxValue=parseFloat(this.realElement.attr('max'));this.stepValue=parseFloat(this.realElement.attr('step'))||1;this.minValue=isNaN(this.minValue)?0:this.minValue;this.maxValue=isNaN(this.maxValue)?100:this.maxValue;if(this.stepValue!==1){this.maxValue-=(this.maxValue-this.minValue)%this.stepValue;}
this.stepsCount=(this.maxValue-this.minValue)/this.stepValue;this.createDataList();},attachEvents:function(){this.realElement.on({focus:this.onFocus});this.trackHolder.on('jcf-pointerdown',this.onTrackPress);this.handles.on('jcf-pointerdown',this.onHandlePress);},createDataList:function(){var self=this,dataValues=[],dataListId=this.realElement.attr('list');if(dataListId){$('#'+dataListId).find('option').each(function(){var itemValue=parseFloat(this.value||this.innerHTML),mark,markOffset;if(!isNaN(itemValue)){markOffset=self.valueToOffset(itemValue);dataValues.push({value:itemValue,offset:markOffset});mark=$(self.options.dataListMark).text(itemValue).attr({'data-mark-value':itemValue}).css(self.offsetProperty,markOffset+'%').appendTo(self.track);}});if(dataValues.length){self.dataValues=dataValues;}}},getDragHandleRange:function(handleIndex){var minStep=-Infinity,maxStep=Infinity;if(handleIndex>0){minStep=this.valueToStepIndex(this.values[handleIndex-1]);}
if(handleIndex<this.handleCount-1){maxStep=this.valueToStepIndex(this.values[handleIndex+1]);}
return{minStepIndex:minStep,maxStepIndex:maxStep};},getNearestHandle:function(percent){if(this.isVertical){percent=1-percent;}
var closestHandle=this.handles.eq(0),closestDistance=Infinity,self=this;if(this.handleCount>1){this.handles.each(function(){var handleOffset=parseFloat(this.style[self.offsetProperty])/100,handleDistance=Math.abs(handleOffset-percent);if(handleDistance<closestDistance){closestDistance=handleDistance;closestHandle=$(this);}});}
return closestHandle;},onTrackPress:function(e){var trackSize,trackOffset,innerOffset;e.preventDefault();if(!this.realElement.is(':disabled')&&!this.activeDragHandle){trackSize=this.track[this.sizeMethod]();trackOffset=this.track.offset()[this.directionProperty];this.activeDragHandle=this.getNearestHandle((e[this.eventProperty]-trackOffset)/this.trackHolder[this.sizeMethod]());this.activeDragHandleIndex=this.handles.index(this.activeDragHandle);this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass);innerOffset=this.activeDragHandle[this.sizeMethod]()/2;this.dragData={trackSize:trackSize,innerOffset:innerOffset,trackOffset:trackOffset,min:trackOffset,max:trackOffset+trackSize};this.page.on({'jcf-pointermove':this.onHandleMove,'jcf-pointerup':this.onHandleRelease});if(e.pointerType==='mouse'){this.realElement.focus();}
this.onHandleMove(e);}},onHandlePress:function(e){var trackSize,trackOffset,innerOffset;e.preventDefault();if(!this.realElement.is(':disabled')&&!this.activeDragHandle){this.activeDragHandle=$(e.currentTarget);this.activeDragHandleIndex=this.handles.index(this.activeDragHandle);this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass);trackSize=this.track[this.sizeMethod]();trackOffset=this.track.offset()[this.directionProperty];innerOffset=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:e[this.eventProperty]-this.handle.offset()[this.directionProperty];this.dragData={trackSize:trackSize,innerOffset:innerOffset,trackOffset:trackOffset,min:trackOffset,max:trackOffset+trackSize};this.page.on({'jcf-pointermove':this.onHandleMove,'jcf-pointerup':this.onHandleRelease});if(e.pointerType==='mouse'){this.realElement.focus();}}},onHandleMove:function(e){var self=this,newOffset,dragPercent,stepIndex,valuePercent,handleDragRange;if(this.isVertical){newOffset=this.dragData.max+(this.dragData.min-e[this.eventProperty])-this.dragData.innerOffset;}else{newOffset=e[this.eventProperty]-this.dragData.innerOffset;}
if(newOffset<this.dragData.min){newOffset=this.dragData.min;}else if(newOffset>this.dragData.max){newOffset=this.dragData.max;}
e.preventDefault();if(this.options.snapToMarks&&this.dataValues){var dragOffset=newOffset-this.dragData.trackOffset;dragPercent=(newOffset-this.dragData.trackOffset)/this.dragData.trackSize*100;$.each(this.dataValues,function(index,item){var markOffset=item.offset/100*self.dragData.trackSize,markMin=markOffset-self.options.snapRadius,markMax=markOffset+self.options.snapRadius;if(dragOffset>=markMin&&dragOffset<=markMax){dragPercent=item.offset;return false;}});}else{dragPercent=(newOffset-this.dragData.trackOffset)/this.dragData.trackSize*100;}
stepIndex=Math.round(dragPercent*this.stepsCount/100);if(this.handleCount>1){handleDragRange=this.getDragHandleRange(this.activeDragHandleIndex);if(stepIndex<handleDragRange.minStepIndex){stepIndex=Math.max(handleDragRange.minStepIndex,stepIndex);}else if(stepIndex>handleDragRange.maxStepIndex){stepIndex=Math.min(handleDragRange.maxStepIndex,stepIndex);}}
valuePercent=stepIndex*(100/this.stepsCount);if(this.dragData.stepIndex!==stepIndex){this.dragData.stepIndex=stepIndex;this.dragData.offset=valuePercent;this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+'%');this.values[this.activeDragHandleIndex]=''+this.stepIndexToValue(stepIndex);this.updateValues();this.realElement.trigger('input');}},onHandleRelease:function(){var newValue;if(typeof this.dragData.offset==='number'){newValue=this.stepIndexToValue(this.dragData.stepIndex);this.realElement.val(newValue).trigger('change');}
this.page.off({'jcf-pointermove':this.onHandleMove,'jcf-pointerup':this.onHandleRelease});delete this.activeDragHandle;delete this.dragData;},onFocus:function(){if(!this.fakeElement.hasClass(this.options.focusClass)){this.fakeElement.addClass(this.options.focusClass);this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress});}},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass);this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress});},onKeyPress:function(e){var incValue=(e.which===38||e.which===39),decValue=(e.which===37||e.which===40);if(e.which===9&&this.handleCount>1){if(e.shiftKey&&this.activeDragHandleIndex>0){this.activeDragHandleIndex--;}else if(!e.shiftKey&&this.activeDragHandleIndex<this.handleCount-1){this.activeDragHandleIndex++;}else{return;}
e.preventDefault();this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass);}
if(decValue||incValue){e.preventDefault();this.step(incValue?this.stepValue:-this.stepValue);}},updateValues:function(){var value=this.values.join(',');if(this.values.length>1){this.realElement.prop('valueLow',this.values[0]);this.realElement.prop('valueHigh',this.values[this.values.length-1]);this.realElement.val(value);if(this.realElement.val()!==value){this.realElement.val(this.values[this.values.length-1]);}}else{this.realElement.val(value);}
this.updateRanges();},updateRanges:function(){var self=this,handle;if(this.rangeMin){handle=this.handles[0];this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,handle.style[this.offsetProperty]);}
if(this.rangeMax){handle=this.handles[this.handles.length-1];this.rangeMax.css(this.offsetProperty,handle.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(handle.style[this.offsetProperty])+'%');}
if(this.rangeMid){this.handles.each(function(index,curHandle){var prevHandle,midBox;if(index>0){prevHandle=self.handles[index-1];midBox=self.rangeMid[index-1];midBox.style[self.offsetProperty]=prevHandle.style[self.offsetProperty];midBox.style[self.sizeProperty]=parseFloat(curHandle.style[self.offsetProperty])-parseFloat(prevHandle.style[self.offsetProperty])+'%';}});}},step:function(changeValue){var originalValue=parseFloat(this.values[this.activeDragHandleIndex||0]),newValue=originalValue,minValue=this.minValue,maxValue=this.maxValue;if(isNaN(originalValue)){newValue=0;}
newValue+=changeValue;if(this.handleCount>1){if(this.activeDragHandleIndex>0){minValue=parseFloat(this.values[this.activeDragHandleIndex-1]);}
if(this.activeDragHandleIndex<this.handleCount-1){maxValue=parseFloat(this.values[this.activeDragHandleIndex+1]);}}
if(newValue>maxValue){newValue=maxValue;}else if(newValue<minValue){newValue=minValue;}
if(newValue!==originalValue){this.values[this.activeDragHandleIndex||0]=''+newValue;this.updateValues();this.realElement.trigger('input').trigger('change');this.setSliderValue(this.values);}},valueToStepIndex:function(value){return(value-this.minValue)/this.stepValue;},stepIndexToValue:function(stepIndex){return this.minValue+this.stepValue*stepIndex;},valueToOffset:function(value){var range=this.maxValue-this.minValue,percent=(value-this.minValue)/range;return percent*100;},getSliderValue:function(){return $.map(this.values,function(value){return parseFloat(value)||0;});},setSliderValue:function(values){var self=this;this.handles.each(function(index,handle){handle.style[self.offsetProperty]=self.valueToOffset(values[index])+'%';});},refresh:function(){var isDisabled=this.realElement.is(':disabled');this.fakeElement.toggleClass(this.options.disabledClass,isDisabled);this.setSliderValue(this.getSliderValue());this.updateRanges();},destroy:function(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement);this.fakeElement.remove();this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur});}});}(jQuery));/*! Hammer.JS - v2.0.4 - 2014-09-28
* http://hammerjs.github.io/
*
* Copyright (c) 2014 Jorik Tangelder;
* Licensed under the MIT license */if(Object.create){!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==kb?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ib.length;){if(c=ib[g],e=c?c+f:b,e in a)return e;g++}return d}function w(){return ob++}function x(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:rb?N:sb?Q:qb?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&yb&&d-e===0,g=b&(Ab|Bb)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=nb(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY),b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,D(c,b);var j=a.element;p(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===yb||f.eventType===Ab)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Bb&&(i>xb||h.velocity===d)){var j=h.deltaX-b.deltaX,k=h.deltaY-b.deltaY,l=G(i,j,k);e=l.x,f=l.y,c=mb(l.x)>mb(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:lb(a.pointers[c].clientX),clientY:lb(a.pointers[c].clientY)},c++;return{timeStamp:nb(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:lb(a[0].clientX),y:lb(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:lb(c/b),y:lb(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?Cb:mb(a)>=mb(b)?a>0?Db:Eb:b>0?Fb:Gb}function I(a,b,c){c||(c=Kb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=Kb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],Lb)-J(a[1],a[0],Lb)}function L(a,b){return I(b[0],b[1],Lb)/I(a[0],a[1],Lb)}function M(){this.evEl=Nb,this.evWin=Ob,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=Rb,this.evWin=Sb,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=Ub,this.evWin=Vb,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(Ab|Bb)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=Xb,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(yb|zb)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===yb)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ab|Bb)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){if(q(a,bc))return bc;var b=q(a,cc),c=q(a,dc);return b&&c?cc+" "+dc:b||c?b?cc:dc:q(a,ac)?ac:_b}function V(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=ec,this.simultaneous={},this.requireFail=[]}function W(a){return a&jc?"cancel":a&hc?"end":a&gc?"move":a&fc?"start":""}function X(a){return a==Gb?"down":a==Fb?"up":a==Db?"left":a==Eb?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function ab(){V.apply(this,arguments),this._timer=null,this._input=null}function bb(){Z.apply(this,arguments)}function cb(){Z.apply(this,arguments)}function db(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function eb(a,b){return b=b||{},b.recognizers=m(b.recognizers,eb.defaults.preset),new fb(a,b)}function fb(a,b){b=b||{},this.options=i(b,eb.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),gb(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function gb(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function hb(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ib=["","webkit","moz","MS","ms","o"],jb=b.createElement("div"),kb="function",lb=Math.round,mb=Math.abs,nb=Date.now,ob=1,pb=/mobile|tablet|ip(ad|hone|od)|android/i,qb="ontouchstart"in a,rb=v(a,"PointerEvent")!==d,sb=qb&&pb.test(navigator.userAgent),tb="touch",ub="pen",vb="mouse",wb="kinect",xb=25,yb=1,zb=2,Ab=4,Bb=8,Cb=1,Db=2,Eb=4,Fb=8,Gb=16,Hb=Db|Eb,Ib=Fb|Gb,Jb=Hb|Ib,Kb=["x","y"],Lb=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var Mb={mousedown:yb,mousemove:zb,mouseup:Ab},Nb="mousedown",Ob="mousemove mouseup";j(M,y,{handler:function(a){var b=Mb[a.type];b&yb&&0===a.button&&(this.pressed=!0),b&zb&&1!==a.which&&(b=Ab),this.pressed&&this.allow&&(b&Ab&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:vb,srcEvent:a}))}});var Pb={pointerdown:yb,pointermove:zb,pointerup:Ab,pointercancel:Bb,pointerout:Bb},Qb={2:tb,3:ub,4:vb,5:wb},Rb="pointerdown",Sb="pointermove pointerup pointercancel";a.MSPointerEvent&&(Rb="MSPointerDown",Sb="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Pb[d],f=Qb[a.pointerType]||a.pointerType,g=f==tb,h=s(b,a.pointerId,"pointerId");e&yb&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ab|Bb)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Tb={touchstart:yb,touchmove:zb,touchend:Ab,touchcancel:Bb},Ub="touchstart",Vb="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=Tb[a.type];if(b===yb&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(Ab|Bb)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:tb,srcEvent:a})}}});var Wb={touchstart:yb,touchmove:zb,touchend:Ab,touchcancel:Bb},Xb="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=Wb[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:tb,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==tb,e=c.pointerType==vb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(Ab|Bb)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Yb=v(jb.style,"touchAction"),Zb=Yb!==d,$b="compute",_b="auto",ac="manipulation",bc="none",cc="pan-x",dc="pan-y";T.prototype={set:function(a){a==$b&&(a=this.compute()),Zb&&(this.manager.element.style[Yb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){if(!Zb){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,bc),f=q(d,dc),g=q(d,cc);return e||f&&c&Hb||g&&c&Ib?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var ec=1,fc=2,gc=4,hc=8,ic=hc,jc=16,kc=32;V.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?W(d):""),a)}var c=this,d=this.state;hc>d&&b(!0),b(),d>=hc&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=kc)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(kc|ec)))return!1;a++}return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(ic|jc|kc)&&(this.state=ec),this.state=this.process(b),void(this.state&(fc|gc|hc|jc)&&this.tryEmit(b))):(this.reset(),void(this.state=kc))},process:function(){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(fc|gc),e=this.attrTest(a);return d&&(c&Bb||!e)?b|jc:d||e?c&Ab?b|hc:b&fc?b|gc:fc:kc}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Jb},getTouchAction:function(){var a=this.options.direction,b=[];return a&Hb&&b.push(dc),a&Ib&&b.push(cc),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Hb?(e=0===f?Cb:0>f?Db:Eb,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Cb:0>g?Fb:Gb,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&fc||!(this.state&fc)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bc]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&fc)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(ab,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[_b]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ab|Bb)&&!f)this.reset();else if(a.eventType&yb)this.reset(),this._timer=e(function(){this.state=ic,this.tryEmit()},b.time,this);else if(a.eventType&Ab)return ic;return kc},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===ic&&(a&&a.eventType&Ab?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=nb(),this.manager.emit(this.options.event,this._input)))}}),j(bb,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bc]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&fc)}}),j(cb,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Hb|Ib,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Hb|Ib)?b=a.velocity:c&Hb?b=a.velocityX:c&Ib&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&mb(b)>this.options.velocity&&a.eventType&Ab},emit:function(a){var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(db,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ac]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&yb&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ab)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=ic,this.tryEmit()},b.interval,this),fc):ic}return kc},failTimeout:function(){return this._timer=e(function(){this.state=kc},this.options.interval,this),kc},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ic&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),eb.VERSION="2.0.4",eb.defaults={domEvents:!1,touchAction:$b,enable:!0,inputTarget:null,inputClass:null,preset:[[bb,{enable:!1}],[_,{enable:!1},["rotate"]],[cb,{direction:Hb}],[$,{direction:Hb},["swipe"]],[db],[db,{event:"doubletap",taps:2},["tap"]],[ab]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var lc=1,mc=2;fb.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?mc:lc},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&ic)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===mc||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(fc|gc|hc)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof V)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&hb(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&gb(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(eb,{INPUT_START:yb,INPUT_MOVE:zb,INPUT_END:Ab,INPUT_CANCEL:Bb,STATE_POSSIBLE:ec,STATE_BEGAN:fc,STATE_CHANGED:gc,STATE_ENDED:hc,STATE_RECOGNIZED:ic,STATE_CANCELLED:jc,STATE_FAILED:kc,DIRECTION_NONE:Cb,DIRECTION_LEFT:Db,DIRECTION_RIGHT:Eb,DIRECTION_UP:Fb,DIRECTION_DOWN:Gb,DIRECTION_HORIZONTAL:Hb,DIRECTION_VERTICAL:Ib,DIRECTION_ALL:Jb,Manager:fb,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:db,Pan:$,Swipe:cb,Pinch:_,Rotate:bb,Press:ab,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==kb&&define.amd?define(function(){return eb}):"undefined"!=typeof module&&module.exports?module.exports=eb:a[c]=eb}(window,document,"Hammer");}/*! jQuery UI - v1.11.2 - 2014-11-26
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, slider.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */;(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var s=0,n=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;r>o;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,r=n.call(arguments,1),h=this;return a=!o&&r.length?e.widget.extend.apply(null,[a].concat(r)):a,o?this.each(function(){var i,n=e.data(this,s);return"instance"===a?(h=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))}),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var a=!1;e(document).mouseup(function(){a=!1}),e.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),a=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-e},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})});;(function(a){function e(a,b){if(!(a.originalEvent.touches&&a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0]:a,d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch||navigator.msPointerEnabled){var d,b=a.ui.mouse.prototype,c=b._mouseInit;b._touchStart=function(a){var b=this;!d&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(d=!0,b._touchMoved=!1,e(a,"mouseover"),e(a,"mousemove"),e(a,"mousedown"))},b._touchMove=function(a){d&&(this._touchMoved=!0,e(a,"mousemove"))},b._touchEnd=function(a){d&&(e(a,"mouseup"),e(a,"mouseout"),this._touchMoved||e(a,"click"),d=!1)},b._mouseInit=function(){var b=this;b.element.bind(navigator.msPointerEnabled?"MSPointerDown":"touchstart",a.proxy(b,"_touchStart")).bind(navigator.msPointerEnabled?"MSPointerMove":"touchmove",a.proxy(b,"_touchMove")).bind(navigator.msPointerEnabled?"MSPointerUp":"touchend",a.proxy(b,"_touchEnd")),b.element.css({msTouchAction:"none"}),c.call(b)}}})(jQuery);!function(a,b){"object"==typeof module&&module.exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(k.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",k.cssRules.length),m[e]=1),e}function d(a,b){var c,d,e=a.style;if(b=b.charAt(0).toUpperCase()+b.slice(1),void 0!==e[b])return b;for(d=0;d<l.length;d++)if(c=l[d]+b,void 0!==e[c])return c}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,n)}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}k.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.scale*d.width,left:d.scale*d.radius,top:-d.scale*d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.scale*(d.length+d.width),k=2*d.scale*j,l=-(d.width+d.length)*d.scale*2+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k,l=["webkit","Moz","ms","O"],m={},n={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c=this,d=c.opts,f=c.el=a(null,{className:d.className});if(e(f,{position:d.position,width:0,zIndex:d.zIndex,left:d.left,top:d.top}),b&&b.insertBefore(f,b.firstChild||null),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!j){var g,h=0,i=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function o(){h++;for(var a=0;a<d.lines;a++)g=Math.max(1-(h+(d.lines-a)*n)%l*m,d.opacity),c.opacity(f,a*d.direction+i,g,d);c.timeout=c.el&&setTimeout(o,~~(1e3/k))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.scale*(f.length+f.width)+"px",height:f.scale*f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.scale*f.radius+"px,0)",borderRadius:(f.corners*f.scale*f.width>>1)+"px"})}for(var i,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)i=e(a(),{position:"absolute",top:1+~(f.scale*f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}}),"undefined"!=typeof document){k=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}();var o=e(a("group"),{behavior:"url(#default#VML)"});!d(o,"transform")&&o.adj?i():j=d(o,"animation")}return h});